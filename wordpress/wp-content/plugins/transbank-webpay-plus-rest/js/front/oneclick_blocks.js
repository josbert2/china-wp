(()=>{"use strict";var e={20:(e,a,t)=>{var r=t(609),s=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function i(e,a,t){var r,i={},p=null,l=null;for(r in void 0!==t&&(p=""+t),void 0!==a.key&&(p=""+a.key),void 0!==a.ref&&(l=a.ref),a)n.call(a,r)&&!c.hasOwnProperty(r)&&(i[r]=a[r]);if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return{$$typeof:s,type:e,key:p,ref:l,props:i,_owner:o.current}}a.jsx=i,a.jsxs=i},609:e=>{e.exports=window.React},636:(e,a,t)=>{t.d(a,{B:()=>l});const r=new URL(window.location.href),s=new URLSearchParams(r.search),n=s.has("transbank_status"),o="success",c="error",i={0:{message:"La tarjeta ha sido inscrita satisfactoriamente. Aún no se realiza ningún cobro. Ahora puedes realizar el pago.",type:o},1:{message:"La inscripción fue cancelada automáticamente por estar inactiva mucho tiempo.",type:c},2:{message:"No se recibió el token de la inscripción.",type:c},3:{message:"El usuario canceló la inscripción en el formulario de pago.",type:c},4:{message:"La inscripción no se encuentra en estado inicializada.",type:c},5:{message:"Ocurrió un error al ejecutar la inscripción.",type:c},6:{message:"La inscripción de la tarjeta ha sido rechazada.",type:c}},p={7:{message:"Transacción aprobada",type:o},8:{message:"Ocurrió un error al confirmar la transacción, ya se encontraba procesada.",type:c},9:{message:"El usuario intentó pagar una orden con estado inválido.",type:c},10:{message:"La transacción fue cancelada por exceder el tiempo en el formulario de Webpay.",type:c},11:{message:"El usuario canceló la transacción en el formulario de pago, pero esta orden ya estaba pagada o en un estado diferente a INICIALIZADO",type:c},12:{message:"Cancelaste la transacción durante el formulario de Webpay Plus.",type:c},13:{message:"El pago es inválido.",type:c},14:{message:"La transacción no se encuentra en estado inicializada.",type:c},15:{message:"El commit de la transacción ha sido rechazada en Transbank",type:c},16:{message:"Ocurrió un error al confirmar la transacción, favor intente nuevamente.",type:c},17:{message:"No se pudo procesar el pago. Si el problema persiste, contacte al comercio.",type:c}},l=e=>{if(n){const a="transbank_oneclick_mall_rest"==e?i:p,t=s.get("transbank_status");if(!a.hasOwnProperty(t))return;const r=a[t].message;switch(a[t].type){case o:wp.data.dispatch("core/notices").createSuccessNotice(r,{context:"wc/checkout"});break;case c:wp.data.dispatch("core/notices").createErrorNotice(r,{context:"wc/checkout"})}}}},848:(e,a,t)=>{e.exports=t(20)}},a={};function t(r){var s=a[r];if(void 0!==s)return s.exports;var n=a[r]={exports:{}};return e[r](n,n.exports,t),n.exports}t.d=(e,a)=>{for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a);const r=window.wc.wcBlocksRegistry,s=window.wp.htmlEntities,n=window.wc.wcSettings;var o=t(636),c=t(848);const{useEffect:i}=window.wp.element,p=(0,n.getSetting)("transbank_oneclick_mall_rest_data",{}),l=(0,s.decodeEntities)(p.title);(0,o.B)(p.id);const d=e=>{const{eventRegistration:a,emitResponse:t}=e,{onCheckoutFail:r}=a;return i((()=>r((({processingResponse:e})=>!e.paymentDetails.errorMessage||{type:t.responseTypes.ERROR,message:e.paymentDetails.errorMessage,messageContext:t.noticeContexts.PAYMENTS}))),[r]),(0,s.decodeEntities)(p.description)},u=()=>{const e=(0,s.decodeEntities)(p.title),a=p.icon,t=(0,c.jsx)("img",{src:a,alt:"oneclick logo"});return(0,c.jsxs)("div",{children:[e,t]})},m={name:p.id,label:(0,c.jsx)(u,{}),content:(0,c.jsx)(d,{}),edit:(0,c.jsx)(d,{}),canMakePayment:()=>!0,ariaLabel:l,supports:{features:p.supports}};(0,r.registerPaymentMethod)(m)})();